# MeetingMinutes Androidアプリ版 要件定義書

## 概要
既存のPython製議事録作成システムをAndroidネイティブアプリとして実装する。

## 開発環境要件
- **開発言語: Kotlin** (Javaではなく、Kotlinを使用)
- Android Studio (最新版) - **Windowsで実行**
- 最小SDK: Android 7.0 (API Level 24)
- ターゲットSDK: Android 14 (API Level 34)
- **ビルド・デバッグ環境: Windows (ユーザー環境)**

## 機能要件

### 1. 音声録音機能
- アプリ内で直接音声録音
- 録音の一時停止/再開
- 録音時間の表示
- 音声ファイルの保存（内部ストレージ）

### 2. 音声ファイル選択機能
- 端末内の音声ファイルを選択
- 対応形式: MP3, WAV, M4A, AAC
- ファイルピッカーUI

### 3. 文字起こし機能
- **オプション1**: OpenAI Whisper APIを使用
  - API キーの安全な管理
  - ネットワーク通信
- **オプション2**: オンデバイス音声認識
  - Google Speech-to-Text API
  - オフライン対応

### 4. 議事録生成機能
- Gemini API または OpenAI APIを使用
- 生成内容:
  - 会議概要
  - 主な議題
  - 決定事項
  - アクションアイテム
  - 次回予定

### 5. 結果表示・保存機能
- 文字起こし結果の表示・編集
- 議事録の表示・編集
- PDFエクスポート
- テキストファイル保存
- 共有機能（メール、メッセージアプリ等）

## 非機能要件

### パフォーマンス
- 長時間録音対応（最大2時間）
- バックグラウンド処理
- プログレス表示

### セキュリティ
- APIキーの暗号化保存
- HTTPSによる通信
- 機密情報のローカル保存時の暗号化

### UI/UX
- Material Design 3準拠
- ダークモード対応
- 多言語対応（日本語、英語）
- アクセシビリティ対応

## 開発方式

### Kotlinネイティブアプリとして開発
- **開発言語: Kotlin（必須）**
- Android Studioプロジェクト形式
- ネイティブAndroidアプリ（React Native/Flutter/PWAではない）

### 環境別の役割分担
**WSL環境（コード作成）:**
- Kotlinソースコード作成
- レイアウトXML作成
- リソースファイル作成
- build.gradle設定作成

**Windows環境（ビルド・デバッグ）:**
- Android Studio実行
- ビルド・コンパイル
- エミュレーター/実機デバッグ
- APK生成

## データフロー

```
1. 音声入力（録音/ファイル選択）
   ↓
2. 音声ファイル保存（一時ファイル）
   ↓
3. 文字起こしAPI呼び出し
   ↓
4. 文字起こし結果取得
   ↓
5. 議事録生成API呼び出し
   ↓
6. 議事録データ取得
   ↓
7. 結果表示・保存
```

## 画面構成

### 1. メイン画面
- 録音ボタン
- ファイル選択ボタン
- 履歴リスト

### 2. 録音画面
- 録音状態表示
- タイマー
- 停止/一時停止ボタン

### 3. 処理中画面
- プログレスバー
- 処理状況テキスト
- キャンセルボタン

### 4. 結果画面
- タブ切り替え（文字起こし/議事録）
- 編集機能
- 保存/共有ボタン

### 5. 設定画面
- APIキー入力
- モデル選択
- 言語設定
- 保存先設定

## 必要な権限
- RECORD_AUDIO（音声録音）
- WRITE_EXTERNAL_STORAGE（ファイル保存）
- READ_EXTERNAL_STORAGE（ファイル読み込み）
- INTERNET（API通信）

## 推定工数
- UI実装: 3-4日
- 音声録音機能: 2日
- API連携: 2-3日
- ファイル処理: 1-2日
- テスト・デバッグ: 3日
- **合計: 約2週間**

## 開発における役割分担

### Claude（WSL環境）の役割
- Kotlinコードの作成（Javaは使用しない）
- レイアウトXML（activity_main.xml等）の作成
- リソースファイル（strings.xml、colors.xml等）の作成
- build.gradle設定の作成
- AndroidManifest.xmlの作成
- コードレビュー・修正

### ユーザー（Windows環境）の役割
- Android Studioでのプロジェクト作成
- 作成されたコードの配置・統合
- ビルド実行
- エミュレーター/実機でのテスト
- エラーログのフィードバック
- APKの生成・署名

### 作業フロー
1. Claudeがプロジェクト構造に沿ったコードを作成
2. ユーザーがAndroid Studioにコードを配置
3. ビルドエラーがあればユーザーがフィードバック
4. Claudeがエラーを修正
5. 繰り返し

## 注意事項
- **開発言語はKotlinのみ使用（Java不可）**
- **ビルド・デバッグは必ずWindows環境で実行**
- Termuxは使用しない（ネイティブアプリとして実装）
- React Native/Flutter/PWAなどの代替技術は使用しない
- 実機テストはWindows環境から実施